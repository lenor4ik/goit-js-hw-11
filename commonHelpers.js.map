{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.png","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEpSURBVHgBrZXtEcIgDIZTzp5/3URHcSPpJLpBXcVd+FPwiqQt1y+SUNv3DuUkvA+0SQQg5Jx7WOt8zsBYyudEmXsPuijg3bbtB1ipa/jQYQ+UZVmBpHjyprEvyBTGSjf52zwbssdchBxhTkI4c2vtTTJMxcwgw6RObZReXDycMSYBcTWuQX/6RqcMQpCmIOPNHbG30SKAgkjmU8AJBJ3PpQ5GOO2KCYVFGEaFa9J+EbCEDIAsc5SCTCkFPjWXlHWD2Jvw5MNP2b1HBEzN42OZvhMRwmURly1cCvfrszSlC41PxR6SKjQs3g4Qg6z9PpdBxsitIhWDXrPDcZCtWplHHQEhzY+AiOZ7IJz5qg5iWygK/wjfFwD+T18pdfXe37e0j07jTeTBPZYfWztI8097RKsAAAAASUVORK5CYII=\"","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport errorIcon from './img/bi_x-octagon.png';\n\ndocument.addEventListener('submit', getImage);\n\nfunction showImage(searchName) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const END_POINT = '?';\n    const PARAMS = new URLSearchParams({\n    key:'42187332-ff85343869753156c1a8d7a61',\n    q: `${searchName}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    })\n    const url = BASE_URL+END_POINT+PARAMS;\n\n    return fetch(url).then(res => res.json());  \n}\n\nconst lightboxConfig = {\n  captionsTitle: 'attr',\n  captionsData: \"alt\",\n}\nconst lightbox = new SimpleLightbox('.gallery a', lightboxConfig);\n\nfunction showLoader() {\n  const loader = document.getElementById('loader');\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  const loader = document.getElementById('loader');\n  loader.style.display = 'none';\n}\n\nfunction getImage(e) {\n  e.preventDefault();\n\n  const searchName = e.target.elements.name.value;\n  console.log(searchName);\n  showLoader();\n\n  setTimeout(() => {\n    showImage(searchName)\n      .then(data => {\n        if (data.hits.length > 0) {\n          console.log(data.hits);\n          renderImages(data.hits);\n          lightbox.refresh();\n        } else {\n          iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            messageColor: '#fafafb',\n            backgroundColor: '#ef4040',\n            iconUrl: errorIcon,\n            iconColor: '#ffffff',\n          });\n        }\n      })\n      .catch(error => {\n        iziToast.error({\n          message: 'An error occurred while fetching images. Please try again!',\n          position: 'topRight',\n          messageColor: '#fafafb',\n          backgroundColor: '#ef4040',\n          iconUrl: errorIcon,\n          iconColor: '#ffffff',\n        });\n      })\n      .finally(() => {\n        hideLoader();\n        e.target.reset();\n      });\n  }, 1000);\n}\n\nfunction imageTemplate({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\" \n      alt=\"${tags}\"\n    >\n        <div class=\"all-image-info\">\n    <p class=\"image-info\"><span class=\"property-name\">Likes</span>${likes}</p>\n        <p class=\"image-info\"><span class=\"property-name\">Views</span>${views}</p>\n            <p class=\"image-info\"><span class=\"property-name\">Comments</span>${comments}</p>\n                <p class=\"image-info\"><span class=\"property-name\">Downloads</span>${downloads}</p>\n                </div>\n    </a>\n  </li>`;\n}\n\nfunction imagesTemplate(images) {\nreturn images.map(imageTemplate).join('');\n}\n\nfunction renderImages(images) {\n  const markup = imagesTemplate(images);\n  document.querySelector('.gallery').innerHTML = markup;\n}\n\n"],"names":["errorIcon","getImage","showImage","searchName","BASE_URL","END_POINT","PARAMS","url","res","lightboxConfig","lightbox","SimpleLightbox","showLoader","loader","hideLoader","e","data","renderImages","iziToast","error","imageTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","images","markup"],"mappings":"wvBAAA,MAAeA,EAAA,qjBCMf,SAAS,iBAAiB,SAAUC,CAAQ,EAE5C,SAASC,EAAUC,EAAY,CAC3B,MAAMC,EAAW,2BACXC,EAAY,IACZC,EAAS,IAAI,gBAAgB,CACnC,IAAI,qCACJ,EAAG,GAAGH,IACN,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAK,EACKI,EAAMH,EAASC,EAAUC,EAE/B,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CAEA,MAAMC,EAAiB,CACrB,cAAe,OACf,aAAc,KAChB,EACMC,EAAW,IAAIC,EAAe,aAAcF,CAAc,EAEhE,SAASG,GAAa,CACpB,MAAMC,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,OACzB,CAEA,SAASC,GAAa,CACpB,MAAMD,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,MACzB,CAEA,SAASZ,EAASc,EAAG,CACnBA,EAAE,eAAc,EAEhB,MAAMZ,EAAaY,EAAE,OAAO,SAAS,KAAK,MAC1C,QAAQ,IAAIZ,CAAU,EACtBS,IAEA,WAAW,IAAM,CACfV,EAAUC,CAAU,EACjB,KAAKa,GAAQ,CACRA,EAAK,KAAK,OAAS,GACrB,QAAQ,IAAIA,EAAK,IAAI,EACrBC,EAAaD,EAAK,IAAI,EACtBN,EAAS,QAAO,GAEhBQ,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACV,aAAc,UACd,gBAAiB,UACjB,QAASlB,EACT,UAAW,SACvB,CAAW,CAEX,CAAO,EACA,MAAMmB,GAAS,CACdD,EAAS,MAAM,CACb,QAAS,6DACT,SAAU,WACV,aAAc,UACd,gBAAiB,UACjB,QAASlB,EACT,UAAW,SACrB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbc,IACAC,EAAE,OAAO,OACjB,CAAO,CACJ,EAAE,GAAI,CACT,CAEA,SAASK,EAAc,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC5F,MAAO;AAAA,kCACuBL;AAAA;AAAA;AAAA,aAGrBD;AAAA,aACAE;AAAA;AAAA;AAAA,oEAGuDC;AAAA,wEACIC;AAAA,+EACOC;AAAA,oFACKC;AAAA;AAAA;AAAA,QAIpF,CAEA,SAASC,EAAeC,EAAQ,CAChC,OAAOA,EAAO,IAAIT,CAAa,EAAE,KAAK,EAAE,CACxC,CAEA,SAASH,EAAaY,EAAQ,CAC5B,MAAMC,EAASF,EAAeC,CAAM,EACpC,SAAS,cAAc,UAAU,EAAE,UAAYC,CACjD"}